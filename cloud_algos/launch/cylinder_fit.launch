<launch>
  <node pkg="point_cloud_mapping" type="pcd_to_msg_node" name="pcd_to_msg_node" output="screen" respawn="true"
	args="$(optenv pcd /home/pangerci/work/iros_cad/hokuyo/pfh_denoise/cup_handle_side-denoise_back_cut.pcd) $(optenv time_pcd 15)" />

  <node pkg="cloud_algos" type="cylinder_fit_node" name="cylinder_fit_node" output="screen" respawn="true">
    <!--     <param  name="input_cloud_topic" type="string" value="/table_object_detector_passive/cloud_annotated"/> -->
    <param  name="input_cloud_topic" type="string" value="/cloud_pcd"/>
    <param  name="output_outliers_topic" type="string" value="/depth_image_triangulation_node/cloud_pcd"/>
    <param  name="output_mesh_topic" type="string" value="cylinder_mesh"/>
  </node>  


  <node pkg="cloud_algos" type="depth_image_triangulation_node" name="depth_image_triangulation_node" output="screen" respawn="true">
  </node>

  
  <node pkg="cloud_tools" type="triangular_mesh_to_vtk" name="triangular_mesh_to_vtk_node" output="screen" respawn="true">
    <param name="input_mesh_topic" type="string" value="input_mesh"/>
    <param name="output_vtk_file" type="string" value="cup_handle_side.vtk"/>
    <param name="nr_of_mesh_publishers" type="int" value="2"/>
  </node>

  <node pkg="topic_tools" type="relay" name="relay_cylinder_fit" args="/cylinder_fit_node/cylinder_mesh /triangular_mesh_to_vtk_node/input_mesh" respawn="false" output="screen"/>
  <node pkg="topic_tools" type="relay" name="relay_depth_image_triangulation" args="/depth_image_triangulation_node/cloud_triangulated /triangular_mesh_to_vtk_node/input_mesh" respawn="false" output="screen"/>
</launch>
